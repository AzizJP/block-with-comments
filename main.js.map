{"version":3,"file":"main.js","mappings":"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","sources":["webpack://block-with-comments/./src/components/Post/Post.helpers.js","webpack://block-with-comments/./src/components/Post/Post.js","webpack://block-with-comments/./src/components/Comments/Comments.js","webpack://block-with-comments/./src/components/Comment/Comment.helpers.js","webpack://block-with-comments/./src/components/Comment/Comment.js","webpack://block-with-comments/./src/components/Comments/Comments.constants.js","webpack://block-with-comments/./src/components/AddComment/AddComment.js","webpack://block-with-comments/./src/components/Validator/Validator.js","webpack://block-with-comments/./src/components/Page/Page.constants.js","webpack://block-with-comments/./src/components/Page/Page.js","webpack://block-with-comments/./src/components/Post/Post.constants.js"],"sourcesContent":["export const changeWordEnding = (num, wordForOneItem, wordForTwoItems, wordForFiveItems) => {\n  let remain10 = num % 10;\n  let remain100 = num % 100;\n\n  if (remain10 === 1) return wordForOneItem;\n\n  if (remain10 >= 2 && remain10 <= 4) return wordForTwoItems;\n\n  if (remain100 >= 5 && remain100 <= 20) return wordForFiveItems;\n\n  return wordForFiveItems;\n};\n","import { changeWordEnding } from './Post.helpers';\n\nexport class Post {\n  constructor(\n    postInfo,\n    ratingElements,\n    promptSelector,\n    { reatingSelector, incrementId, decrementId, counterSelector },\n  ) {\n    this._postInfo = postInfo;\n    this._ratingElements = ratingElements;\n    this._promptSelector = promptSelector;\n    this._reatingSelector = reatingSelector;\n    this._incrementId = incrementId;\n    this._decrementId = decrementId;\n    this._counterSelector = counterSelector;\n  }\n\n  _timePassedSince = stringDate => {\n    this._initialDate = new Date(stringDate);\n    this._dateNow = new Date();\n    this._dateDifference = Math.abs(this._dateNow.getTime() - this._initialDate.getTime());\n    this._diffDays = Math.ceil(this._dateDifference / (1000 * 3600 * 24));\n    this._yearsPassed = Math.floor(this._diffDays / 360);\n    this._monthsPassed = Math.floor((this._diffDays % 360) / 30);\n    this._daysPassed = (this._diffDays % 360) % 30;\n\n    this._years = changeWordEnding(this._yearsPassed, 'год', 'года', 'лет');\n    this._months = changeWordEnding(this._monthsPassed, 'месяц', 'месяца', 'месяцев');\n    this._days = changeWordEnding(this._daysPassed, 'день', 'дня', 'дней');\n\n    if (this._yearsPassed === 0 && this._monthsPassed === 0) {\n      return `${this._daysPassed} ${this._days} назад`;\n    }\n    if (this._yearsPassed === 0) {\n      return `${this._monthsPassed} ${this._months} ${this._daysPassed} ${this._days} назад`;\n    }\n    return `${this._yearsPassed} ${this._years} ${this._monthsPassed} ${this._months} ${this._daysPassed} ${this._days} назад`;\n  };\n\n  renderPostInfo = ({ createdId, updatedId, viewedId }) => {\n    this._dateCreatedElement = document.getElementById(`${createdId}`);\n    this._dateUpdatedElement = document.getElementById(`${updatedId}`);\n    this._viewedElement = document.getElementById(`${viewedId}`);\n    this._buttons = document.querySelector(`.${this._reatingSelector}`);\n    this._countElement = this._buttons.querySelector(`.${this._counterSelector}`);\n\n    this._dateCreatedElement.textContent = this._timePassedSince(this._postInfo.dateCreated);\n    this._dateUpdatedElement.textContent = this._timePassedSince(this._postInfo.dateUpdated);\n    this._viewedElement.textContent = `${this._postInfo.viewed} раз`;\n\n    this._setEventListeners();\n  };\n\n  _handleRatingIncrement = () => {\n    this._ratingElements.count++;\n    this._countElement.textContent = this._ratingElements.count;\n  };\n\n  _handleRatingDecrement = () => {\n    this._ratingElements.count--;\n    this._countElement.textContent = this._ratingElements.count;\n  };\n\n  _addPrompt = event => {\n    const displayWidth = document.body.clientWidth;\n\n    if (displayWidth < 1024) return;\n    const target = event.target;\n    const coords = target.getBoundingClientRect();\n    const promptHtml = target.dataset.prompt;\n    if (!promptHtml) return;\n\n    this._ratingElements.promptElement = document.createElement('div');\n    this._ratingElements.promptElement.className = this._promptSelector;\n    this._ratingElements.promptElement.innerHTML = promptHtml;\n    this._buttons.append(this._ratingElements.promptElement);\n\n    let promptImageHeightDifference =\n      this._ratingElements.promptElement.offsetHeight - target.offsetHeight;\n    let left = target.offsetWidth + 20;\n    let top = 0;\n    if (target.id === 'rating-decrement') {\n      top = this._buttons.offsetHeight - target.offsetHeight - promptImageHeightDifference / 2;\n    }\n\n    this._ratingElements.promptElement.style.left = `${left}px`;\n    this._ratingElements.promptElement.style.top = `${top}px`;\n  };\n\n  _deletePrompt = () => {\n    if (this._ratingElements.promptElement) {\n      this._ratingElements.promptElement.remove();\n      this._ratingElements.promptElement = null;\n    }\n  };\n\n  _setEventListeners = () => {\n    this._incrementButtonElement = this._buttons.querySelector(`#${this._incrementId}`);\n    this._decrementButtonElement = this._buttons.querySelector(`#${this._decrementId}`);\n\n    this._incrementButtonElement.onclick = this._handleRatingIncrement;\n    this._decrementButtonElement.onclick = this._handleRatingDecrement;\n\n    this._buttons.onmouseover = event => this._addPrompt(event);\n    this._buttons.onmouseout = this._deletePrompt;\n  };\n}\n","export class Comments {\n  constructor({ renderer }, sectionSelector) {\n    this._renderer = renderer;\n    this._sectionSelector = sectionSelector;\n    this._container = document.querySelector(this._sectionSelector);\n  }\n\n  addComment = comment => {\n    this._container.prepend(this._renderer(comment));\n  };\n\n  renderComments = comments => {\n    comments.forEach(comment => {\n      this.addComment(comment);\n    });\n  };\n}\n","export const doValidDate = date => {\n  return `${date.slice(3, 5)}.${date.slice(0, 2)}.${date.slice(6)}`;\n};\n","import { doValidDate } from './Comment.helpers';\n\nexport class Comment {\n  constructor({ userName, text, date, isLiked }, { templateId, cloneSelector }) {\n    this._userName = userName;\n    this._text = text;\n    this._date = date;\n    this._isLiked = isLiked;\n    this._templateId = templateId;\n    this._cloneSelector = cloneSelector;\n  }\n\n  _getCommentTemplate = () => {\n    const commentElement = document\n      .querySelector(`#${this._templateId}`)\n      .content.querySelector(`.${this._cloneSelector}`)\n      .cloneNode(true);\n    return commentElement;\n  };\n\n  generateComment = ({ nameSelector, textSelector, dateSelector, trashButtonId, likeButtonId }) => {\n    this._commentElement = this._getCommentTemplate();\n    this._userNameElement = this._commentElement.querySelector(`.${nameSelector}`);\n    this._userTextElement = this._commentElement.querySelector(`.${textSelector}`);\n    this._commentDateElement = this._commentElement.querySelector(`.${dateSelector}`);\n    this._trashButtonElement = this._commentElement.querySelector(`#${trashButtonId}`);\n    this._likeButtonElement = this._commentElement.querySelector(`#${likeButtonId}`);\n\n    const today = new Date();\n    const newDate = this._date;\n\n    const lessThanDay = today.getDate() === new Date(doValidDate(newDate)).getDate();\n    const lessThanTwoDay = today.getDate() - new Date(doValidDate(newDate)).getDate() === 1;\n    const toFuture = today - new Date(doValidDate(newDate)) < 0;\n\n    this._userNameElement.textContent = this._userName;\n    this._userTextElement.textContent = this._text;\n\n    if (toFuture) {\n      this._commentDateElement.textContent = `прыжок в будущее - в ${this._date.slice(\n        0,\n        11,\n      )} ${this._date.slice(11)}`;\n    } else if (lessThanDay) {\n      this._commentDateElement.textContent = `сегодня, в ${this._date.slice(11)}`;\n    } else if (lessThanTwoDay) {\n      this._commentDateElement.textContent = `вчера, в ${this._date.slice(11)}`;\n    } else if (!this._date.slice(11)) {\n      this._commentDateElement.textContent = this._date;\n    } else {\n      this._commentDateElement.textContent = `${this._date.slice(0, 11)} в ${this._date.slice(11)}`;\n    }\n\n    this._setEventListeners();\n\n    return this._commentElement;\n  };\n\n  _handleLikeClick = likeElement => {\n    if (this._isLiked) {\n      likeElement.classList.remove('comment__button_liked');\n      likeElement.classList.add('comment__button_like');\n      this._isLiked = false;\n    } else {\n      likeElement.classList.remove('comment__button_like');\n      likeElement.classList.add('comment__button_liked');\n      this._isLiked = true;\n    }\n  };\n\n  _handleTrashClick = commentElement => {\n    commentElement.remove();\n  };\n\n  _setEventListeners = () => {\n    this._likeButtonElement.addEventListener('click', () =>\n      this._handleLikeClick(this._likeButtonElement),\n    );\n    this._trashButtonElement.addEventListener('click', () =>\n      this._handleTrashClick(this._commentElement),\n    );\n  };\n}\n","export const commentsList = [\n  {\n    userName: 'Cuphead',\n    text: 'Ты пробовал выстрелить из пальца XD?',\n    date: '14.03.2023, 12:25',\n    isLiked: false,\n  },\n  {\n    userName: 'Dr.Tea',\n    text: 'Кинь баг-репорт производителю',\n    date: '13.03.2023, 13:25',\n    isLiked: false,\n  },\n  {\n    userName: 'Чайный Барон',\n    text: 'Решил проблему следующим образом: нужно не только достать пакетик из упаковки, еще необходимо вскрыть пакетик и вытащить саму завариваемую часть',\n    date: '10.03.2023, 13:25',\n    isLiked: false,\n  },\n];\n","export class AddComment {\n  constructor(commentList, handleAddComment, addCommentButtonSelector) {\n    this._commentList = commentList;\n    this._isOpen = false;\n    this._comment = {};\n    this._isAdded = false;\n    this._handleAddComment = handleAddComment;\n    this._addCommentButton = document.querySelector(`.${addCommentButtonSelector}`);\n  }\n\n  renderForm = ({\n    formSelector,\n    formWrapperSelector,\n    inputId,\n    textareaId,\n    dateInputId,\n    submitButtonId,\n    cancelButtonId,\n  }) => {\n    this._formWrapper = document.querySelector(`.${formWrapperSelector}`);\n    this._form = this._formWrapper.querySelector(`.${formSelector}`);\n    this._submitButton = this._formWrapper.querySelector(`#${submitButtonId}`);\n    this._cancelButton = this._formWrapper.querySelector(`#${cancelButtonId}`);\n\n    this._formName = document.querySelector(`#${inputId}`);\n    this._formText = document.querySelector(`#${textareaId}`);\n    this._formDate = document.querySelector(`#${dateInputId}`);\n\n    this._setEventListeners();\n  };\n\n  _openPopup = () => {\n    this._isOpen = true;\n    this._formWrapper.style.display = 'flex';\n  };\n\n  _closePopup = () => {\n    this._formName.value = '';\n    this._formText.value = '';\n    this._formDate.value = '';\n\n    this._isOpen = false;\n    this._formWrapper.style.display = 'none';\n  };\n\n  addComment = () => {\n    this._comment.userName = this._formName.value;\n    this._comment.text = this._formText.value;\n    this._comment.date = this._formDate.valueAsNumber\n      ? new Date(this._formDate.valueAsNumber - 10800000).toLocaleString().slice(0, 17)\n      : new Date().toLocaleString().slice(0, 17);\n    this._comment.isLiked = false;\n\n    this._commentList.push(this._comment);\n    this._closePopup();\n  };\n\n  _closeByEsc = evt => {\n    if (this._isOpen) {\n      if (evt.key === 'Escape') this._closePopup();\n    }\n  };\n\n  _handleSubmit = evt => {\n    evt.preventDefault();\n    this._handleAddComment();\n  };\n\n  _setEventListeners = () => {\n    this._form.addEventListener('submit', this._handleSubmit);\n    document.addEventListener('keydown', this._closeByEsc);\n    this._addCommentButton.addEventListener('click', this._openPopup);\n    this._cancelButton.addEventListener('click', this._closePopup);\n  };\n}\n","export class Validator {\n  constructor() {}\n\n  _showInputError = inputElement => {\n    const errorElement = inputElement.nextSibling.nextSibling;\n    errorElement.style.display = 'inline';\n    errorElement.textContent = inputElement.validationMessage;\n  };\n\n  _deleteInputError = inputElement => {\n    const errorElement = inputElement.nextSibling.nextSibling;\n    errorElement.style.display = 'none';\n    errorElement.textContent = '';\n  };\n\n  _isValid = element => {\n    return element.validity.valid;\n  };\n\n  _handleInputEvent = () => {\n    this._deleteInputError(this._userName);\n\n    this._userName.removeEventListener('input', this._handleInputEvent);\n  };\n\n  _handleTextareaEvent = () => {\n    this._deleteInputError(this._text);\n\n    this._text.removeEventListener('input', this._handleTextareaEvent);\n  };\n\n  enableValidation = ({ formSelector, inputId, textareaId }) => {\n    this._formElement = document.querySelector(`.${formSelector}`);\n    this._userName = this._formElement.querySelector(`#${inputId}`);\n    this._text = this._formElement.querySelector(`#${textareaId}`);\n\n    if (!this._isValid(this._userName)) {\n      this._showInputError(this._userName);\n    }\n\n    if (!this._isValid(this._text)) {\n      this._showInputError(this._text);\n    }\n\n    this._setEventListeners();\n\n    return this._isValid(this._userName) && this._isValid(this._text);\n  };\n\n  _setEventListeners = () => {\n    this._userName.addEventListener('input', this._handleInputEvent);\n\n    this._text.addEventListener('input', this._handleTextareaEvent);\n  };\n}\n","export const postHeaderSelectors = {\n  createdId: 'date-created',\n  updatedId: 'date-updated',\n  viewedId: 'viewed',\n};\n\nexport const commentContainerSelector = '.comments';\nexport const promptSelector = 'post__prompt';\nexport const addCommentButtonSelector = 'add-comment__button';\n\nexport const ratingSelectors = {\n  reatingSelector: 'post__rating',\n  incrementId: 'rating-increment',\n  decrementId: 'rating-decrement',\n  counterSelector: 'post__rating_counter',\n};\n\nexport const templateSelectors = {\n  templateId: 'comments',\n  cloneSelector: 'comment',\n};\n\nexport const formSelectors = {\n  formSelector: 'form',\n  formWrapperSelector: 'form__wrapper',\n  inputId: 'user-name',\n  inputErrorId: 'user-error',\n  textareaId: 'comment-text',\n  textareaErrorId: 'text-error',\n  dateInputId: 'comment-date',\n  submitButtonId: 'submit-button',\n  cancelButtonId: 'cancel-button',\n};\n\nexport const commentSelectors = {\n  nameSelector: 'comment__user-name',\n  textSelector: 'comment__user-text',\n  dateSelector: 'comment__info-date',\n  trashButtonId: 'trash',\n  likeButtonId: 'like',\n};\n","import { Post } from '../Post/Post';\nimport { postInfo, ratingElements } from '../Post/Post.constants';\n\nimport { Comments } from '../Comments/Comments';\nimport { Comment } from '../Comment/Comment';\nimport { commentsList } from '../Comments/Comments.constants';\nimport { AddComment } from '../AddComment/AddComment';\nimport { doValidDate } from '../Comment/Comment.helpers';\nimport { Validator } from '../Validator/Validator';\nimport {\n  addCommentButtonSelector,\n  commentContainerSelector,\n  commentSelectors,\n  formSelectors,\n  postHeaderSelectors,\n  promptSelector,\n  ratingSelectors,\n  templateSelectors,\n} from './Page.constants';\n\nconst postElement = new Post(postInfo, ratingElements, promptSelector, ratingSelectors);\npostElement.renderPostInfo(postHeaderSelectors);\n\nconst createComment = comment => {\n  const createComment = new Comment(comment, templateSelectors);\n  return createComment.generateComment(commentSelectors);\n};\n\nconst commentContainer = new Comments({ renderer: createComment }, commentContainerSelector);\n\nconst newSortedList = commentsList.sort(\n  (a, b) => new Date(doValidDate(a.date)) - new Date(doValidDate(b.date)),\n);\ncommentContainer.renderComments(newSortedList);\n\nconst addCommentForm = new AddComment(\n  commentsList,\n  () => handleAddComment(),\n  addCommentButtonSelector,\n);\naddCommentForm.renderForm(formSelectors);\n\nconst validator = new Validator();\n\nconst handleAddComment = () => {\n  if (validator.enableValidation(formSelectors)) {\n    addCommentForm.addComment();\n    const newArr = [...commentsList].slice(commentsList.length - 1);\n    commentContainer.renderComments(newArr);\n  }\n};\n","export const postInfo = {\n  dateCreated: '12.12.2018',\n  dateUpdated: '12.25.2020',\n  viewed: 12000,\n};\n\nexport const ratingElements = {\n  count: 0,\n  promptElement: null,\n};\n"],"names":["changeWordEnding","num","wordForOneItem","wordForTwoItems","wordForFiveItems","remain10","Post","_createClass","postInfo","ratingElements","promptSelector","_ref","_this","reatingSelector","incrementId","decrementId","counterSelector","_classCallCheck","_defineProperty","stringDate","_initialDate","Date","_dateNow","_dateDifference","Math","abs","getTime","_diffDays","ceil","_yearsPassed","floor","_monthsPassed","_daysPassed","_years","_months","_days","concat","_ref2","createdId","updatedId","viewedId","_dateCreatedElement","document","getElementById","_dateUpdatedElement","_viewedElement","_buttons","querySelector","_reatingSelector","_countElement","_counterSelector","textContent","_timePassedSince","_postInfo","dateCreated","dateUpdated","viewed","_setEventListeners","_ratingElements","count","event","body","clientWidth","target","promptHtml","getBoundingClientRect","dataset","prompt","promptElement","createElement","className","_promptSelector","innerHTML","append","promptImageHeightDifference","offsetHeight","left","offsetWidth","top","id","style","remove","_incrementButtonElement","_incrementId","_decrementButtonElement","_decrementId","onclick","_handleRatingIncrement","_handleRatingDecrement","onmouseover","_addPrompt","onmouseout","_deletePrompt","this","Comments","sectionSelector","renderer","comment","_container","prepend","_renderer","comments","forEach","addComment","_sectionSelector","doValidDate","date","slice","Comment","userName","text","isLiked","templateId","cloneSelector","_templateId","content","_cloneSelector","cloneNode","_ref3","nameSelector","textSelector","dateSelector","trashButtonId","likeButtonId","_commentElement","_getCommentTemplate","_userNameElement","_userTextElement","_commentDateElement","_trashButtonElement","_likeButtonElement","today","newDate","_date","lessThanDay","getDate","lessThanTwoDay","toFuture","_userName","_text","likeElement","_isLiked","classList","add","commentElement","addEventListener","_handleLikeClick","_handleTrashClick","commentsList","AddComment","commentList","handleAddComment","addCommentButtonSelector","formSelector","formWrapperSelector","inputId","textareaId","dateInputId","submitButtonId","cancelButtonId","_formWrapper","_form","_submitButton","_cancelButton","_formName","_formText","_formDate","_isOpen","display","value","_comment","valueAsNumber","toLocaleString","_commentList","push","_closePopup","evt","key","preventDefault","_handleAddComment","_handleSubmit","_closeByEsc","_addCommentButton","_openPopup","_isAdded","Validator","inputElement","errorElement","nextSibling","validationMessage","element","validity","valid","_deleteInputError","removeEventListener","_handleInputEvent","_handleTextareaEvent","_formElement","_isValid","_showInputError","templateSelectors","formSelectors","inputErrorId","textareaErrorId","commentSelectors","renderPostInfo","commentContainer","generateComment","newSortedList","sort","a","b","renderComments","addCommentForm","renderForm","validator","enableValidation","newArr","length"],"sourceRoot":""}