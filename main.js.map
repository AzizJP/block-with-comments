{"version":3,"file":"main.js","mappings":"mBAAO,IAAMA,EAAmB,SAC9BC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAWJ,EAAM,GAGrB,OAAiB,IAAbI,EAAuBH,EAEvBG,GAAY,GAAKA,GAAY,EAAUF,EAEGC,CAGhD,E,25BCdO,IAAME,EAAIC,GACf,SAAAD,EAAYE,EAAUC,GAAgB,IAAAC,EAAA,M,4FAAAC,CAAA,KAAAL,GAAAM,EAAA,yBAKnB,SAAAC,GAgCjB,OA/BAH,EAAKI,aAAe,IAAIC,KAAKF,GAC7BH,EAAKM,SAAW,IAAID,KACpBL,EAAKO,gBAAkBC,KAAKC,IAC1BT,EAAKM,SAASI,UAAYV,EAAKI,aAAaM,WAE9CV,EAAKW,UAAYH,KAAKI,KACpBZ,EAAKO,gBAAkB,OAEzBP,EAAKa,aAAeL,KAAKM,MAAMd,EAAKW,UAAY,KAChDX,EAAKe,cAAgBP,KAAKM,MAAOd,EAAKW,UAAY,IAAO,IACzDX,EAAKgB,YAAehB,EAAKW,UAAY,IAAO,GAE5CX,EAAKiB,OAAS3B,EACZU,EAAKa,aACL,MACA,OACA,OAEFb,EAAKkB,QAAU5B,EACbU,EAAKe,cACL,QACA,SACA,WAEFf,EAAKmB,MAAQ7B,EACXU,EAAKgB,YACL,OACA,MACA,QAGwB,IAAtBhB,EAAKa,cAA6C,IAAvBb,EAAKe,cAC3B,GAAPK,OAAUpB,EAAKgB,YAAW,KAAAI,OAAIpB,EAAKmB,MAAK,UAEhB,IAAtBnB,EAAKa,aACA,GAAPO,OAAUpB,EAAKe,cAAa,KAAAK,OAAIpB,EAAKkB,QAAO,KAAAE,OAAIpB,EAAKgB,YAAW,KAAAI,OAAIpB,EAAKmB,MAAK,UAEzE,GAAPC,OAAUpB,EAAKa,aAAY,KAAAO,OAAIpB,EAAKiB,OAAM,KAAAG,OAAIpB,EAAKe,cAAa,KAAAK,OAAIpB,EAAKkB,QAAO,KAAAE,OAAIpB,EAAKgB,YAAW,KAAAI,OAAIpB,EAAKmB,MAAK,SACpH,IAACjB,EAAA,uBAEgB,WACfF,EAAKqB,oBACHC,SAASC,eAAe,gBAC1BvB,EAAKwB,oBACHF,SAASC,eAAe,gBAC1BvB,EAAKyB,eAAiBH,SAASC,eAAe,UAC9CvB,EAAK0B,SAAWJ,SAASK,cAAc,iBACvC3B,EAAK4B,cAAgB5B,EAAK0B,SAASC,cACjC,yBAGF3B,EAAKqB,oBAAoBQ,YAAc7B,EAAK8B,iBAC1C9B,EAAK+B,UAAUC,aAEjBhC,EAAKwB,oBAAoBK,YAAc7B,EAAK8B,iBAC1C9B,EAAK+B,UAAUE,aAEjBjC,EAAKyB,eAAeI,YAAc,GAAHT,OAAMpB,EAAK+B,UAAUG,OAAM,QAE1DlC,EAAKmC,oBACP,IAACjC,EAAA,+BAEwB,WACvBF,EAAKoC,gBAAgBC,QACrBrC,EAAK4B,cAAcC,YAAc7B,EAAKoC,gBAAgBC,KACxD,IAACnC,EAAA,+BAEwB,WACvBF,EAAKoC,gBAAgBC,QACrBrC,EAAK4B,cAAcC,YAAc7B,EAAKoC,gBAAgBC,KACxD,IAACnC,EAAA,mBAEY,SAAAoC,GAGX,KAFqBhB,SAASiB,KAAKC,YAEhB,MAAnB,CACA,IAAMC,EAASH,EAAMG,OACfC,EAASD,EAAOE,wBAChBC,EAAaH,EAAOI,QAAQC,OAClC,GAAKF,EAAL,CAEA5C,EAAKoC,gBAAgBW,cACnBzB,SAAS0B,cAAc,OACzBhD,EAAKoC,gBAAgBW,cAAcE,UAAY,eAC/CjD,EAAKoC,gBAAgBW,cAAcG,UAAYN,EAC/C5C,EAAK0B,SAASyB,OAAOnD,EAAKoC,gBAAgBW,eAE1C,IAAIK,EAAOV,EAAOU,KAAOX,EAAOY,YAAc,GAC1CC,EACFZ,EAAOY,KACNtD,EAAKoC,gBAAgBW,cAAcQ,aAClCd,EAAOc,cACP,EACAD,EAAM,IAAGA,EAAMZ,EAAOY,KAE1BtD,EAAKoC,gBAAgBW,cAAcS,MAAMJ,KAAO,GAAHhC,OAAMgC,EAAI,MACvDpD,EAAKoC,gBAAgBW,cAAcS,MAAMF,IAAM,GAAHlC,OAAMkC,EAAG,KAjB9B,CAJQ,CAsBjC,IAACpD,EAAA,sBAEe,WACVF,EAAKoC,gBAAgBW,gBACvB/C,EAAKoC,gBAAgBW,cAAcU,SACnCzD,EAAKoC,gBAAgBW,cAAgB,KAEzC,IAAC7C,EAAA,2BAEoB,WACnBF,EAAK0D,wBAA0B1D,EAAK0B,SAASC,cAC3C,2BAEF3B,EAAK2D,wBAA0B3D,EAAK0B,SAASC,cAC3C,2BAGF3B,EAAK0D,wBAAwBE,QAC3B5D,EAAK6D,uBACP7D,EAAK2D,wBAAwBC,QAC3B5D,EAAK8D,uBAEP9D,EAAK0B,SAASqC,YAAc,SAAAzB,GAAK,OAAItC,EAAKgE,WAAW1B,EAAM,EAC3DtC,EAAK0B,SAASuC,WAAajE,EAAKkE,aAClC,IA9HEC,KAAKpC,UAAYjC,EACjBqE,KAAK/B,gBAAkBrC,CACzB,I,25BCNK,IAAMqE,EAAQvE,GACnB,SAAAuE,EAAAC,EAA0BC,GAAiB,IAAAtE,EAAA,KAA7BuE,EAAQF,EAARE,U,4FAAQtE,CAAA,KAAAmE,GAAAlE,EAAA,mBAMT,SAAAsE,GACXxE,EAAKyE,WAAWC,QAAQ1E,EAAK2E,UAAUH,GACzC,IAACtE,EAAA,uBAEgB,SAAA0E,GACfA,EAASC,SAAQ,SAAAL,GACfxE,EAAK8E,WAAWN,EAClB,GACF,IAbEL,KAAKQ,UAAYJ,EACjBJ,KAAKY,iBAAmBT,EACxBH,KAAKM,WAAanD,SAASK,cAAcwC,KAAKY,iBAChD,ICLWC,EAAc,SAAAC,GACzB,MAAO,GAAP7D,OAAU6D,EAAKC,MAAM,EAAG,GAAE,KAAA9D,OAAI6D,EAAKC,MAAM,EAAG,GAAE,KAAA9D,OAAI6D,EAAKC,MAAM,GAC/D,E,25BCAO,IAAMC,EAAOtF,GAClB,SAAAsF,EAAAd,GAA+C,IAAArE,EAAA,KAAjCoF,EAAQf,EAARe,SAAUC,EAAIhB,EAAJgB,KAAMJ,EAAIZ,EAAJY,KAAMK,EAAOjB,EAAPiB,S,4FAAOrF,CAAA,KAAAkF,GAAAjF,EAAA,4BAOrB,WAKpB,OAJuBoB,SACpBK,cAAc,aACd4D,QAAQ5D,cAAc,YACtB6D,WAAU,EAEf,IAACtF,EAAA,wBAEiB,WAChBF,EAAKyF,gBAAkBzF,EAAK0F,sBAC5B1F,EAAK2F,iBAAmB3F,EAAKyF,gBAAgB9D,cAC3C,uBAEF3B,EAAK4F,iBAAmB5F,EAAKyF,gBAAgB9D,cAC3C,uBAEF3B,EAAK6F,oBAAsB7F,EAAKyF,gBAAgB9D,cAC9C,uBAEF,IAAMmE,EAAQ,IAAIzF,KACZ0F,EAAU/F,EAAKgG,MAEfC,EACJH,EAAQ,IAAIzF,KAAK2E,EAAYe,IAAY,MACrCG,EACJJ,EAAQ,IAAIzF,KAAK2E,EAAYe,IAAY,OACrCI,EAAWL,EAAQ,IAAIzF,KAAK2E,EAAYe,IAAY,EA6B1D,OA3BA/F,EAAK2F,iBAAiB9D,YAAc7B,EAAKoG,UACzCpG,EAAK4F,iBAAiB/D,YAAc7B,EAAKqG,MAErCF,EACFnG,EAAK6F,oBAAoBhE,YAAc,wBAAHT,OAA2BpB,EAAKgG,MAAMd,MACxE,EACA,IACD,KAAA9D,OAAIpB,EAAKgG,MAAMd,MAAM,KACbe,EACTjG,EAAK6F,oBAAoBhE,YAAc,cAAHT,OAAiBpB,EAAKgG,MAAMd,MAC9D,KAEOgB,EACTlG,EAAK6F,oBAAoBhE,YAAc,YAAHT,OAAepB,EAAKgG,MAAMd,MAC5D,KAEQlF,EAAKgG,MAAMd,MAAM,IAG3BlF,EAAK6F,oBAAoBhE,YAAc,GAAHT,OAAMpB,EAAKgG,MAAMd,MACnD,EACA,IACD,OAAA9D,OAAMpB,EAAKgG,MAAMd,MAAM,KALxBlF,EAAK6F,oBAAoBhE,YAAc7B,EAAKgG,MAQ9ChG,EAAKmC,qBAEEnC,EAAKyF,eACd,IAACvF,EAAA,yBAEkB,SAAAoG,GACbtG,EAAKuG,UACPD,EAAYE,UAAU/C,OAAO,yBAC7B6C,EAAYE,UAAUC,IAAI,wBAC1BzG,EAAKuG,UAAW,IAEhBD,EAAYE,UAAU/C,OAAO,wBAC7B6C,EAAYE,UAAUC,IAAI,yBAC1BzG,EAAKuG,UAAW,EAEpB,IAACrG,EAAA,0BAEmB,SAAAwG,GAClBA,EAAejD,QACjB,IAACvD,EAAA,2BAEoB,WACnBF,EAAK2G,oBACH3G,EAAKyF,gBAAgB9D,cAAc,UACrC3B,EAAK4G,mBACH5G,EAAKyF,gBAAgB9D,cAAc,SAErC3B,EAAK4G,mBAAmBC,iBAAiB,SAAS,kBAChD7G,EAAK8G,iBAAiB9G,EAAK4G,mBAAmB,IAEhD5G,EAAK2G,oBAAoBE,iBAAiB,SAAS,kBACjD7G,EAAK+G,kBAAkB/G,EAAKyF,gBAAgB,GAEhD,IA5FEtB,KAAKiC,UAAYhB,EACjBjB,KAAKkC,MAAQhB,EACblB,KAAK6B,MAAQf,EACbd,KAAKoC,SAAWjB,CAClB,ICRW0B,EAAe,CAC1B,CACE5B,SAAU,UACVC,KAAM,uCACNJ,KAAM,oBACNK,SAAS,GAEX,CACEF,SAAU,SACVC,KAAM,gCACNJ,KAAM,oBACNK,SAAS,GAEX,CACEF,SAAU,eACVC,KAAM,mJACNJ,KAAM,oBACNK,SAAS,I,25BCjBN,IAAM2B,EAAUpH,GACrB,SAAAoH,EAAYC,GAAa,IAAAlH,EAAA,M,4FAAAC,CAAA,KAAAgH,GAAA/G,EAAA,mBAOZ,WACXF,EAAKmH,kBAAoB7F,SAASK,cAChC,wBAEF3B,EAAKoH,aAAe9F,SAASK,cAAc,kBAC3C3B,EAAKqH,MAAQrH,EAAKoH,aAAazF,cAAc,SAC7C3B,EAAKsH,cACHtH,EAAKoH,aAAazF,cAAc,kBAClC3B,EAAKuH,cACHvH,EAAKoH,aAAazF,cAAc,kBAElC3B,EAAKwH,UAAYlG,SAASK,cAAc,oBACxC3B,EAAKyH,UAAYnG,SAASK,cAAc,eACxC3B,EAAK0H,UAAYpG,SAASK,cAAc,eAExC3B,EAAKmC,oBACP,IAACjC,EAAA,mBAEY,WACXF,EAAK2H,SAAU,EACf3H,EAAKoH,aAAa5D,MAAMoE,QAAU,MACpC,IAAC1H,EAAA,oBAEa,SAAA2H,GACZA,EAAIC,iBAEJ9H,EAAKwH,UAAUO,MAAQ,GACvB/H,EAAKyH,UAAUM,MAAQ,GACvB/H,EAAK0H,UAAUK,MAAQ,GAEvB/H,EAAK2H,SAAU,EACf3H,EAAKoH,aAAa5D,MAAMoE,QAAU,MACpC,IAAC1H,EAAA,mBAEY,SAAA2H,GACXA,EAAIC,iBAEJ9H,EAAKgI,SAAS5C,SAAWpF,EAAKwH,UAAUO,MACxC/H,EAAKgI,SAAS3C,KAAOrF,EAAKyH,UAAUM,MACpC/H,EAAKgI,SAAS/C,KAAOjF,EAAK0H,UAAUO,cAChC,IAAI5H,KAAKL,EAAK0H,UAAUO,cAAgB,OACrCC,iBACAhD,MAAM,EAAG,KACZ,IAAI7E,MAAO6H,iBAAiBhD,MAAM,EAAG,IACzClF,EAAKgI,SAAS1C,SAAU,EAExBtF,EAAKmI,aAAaC,KAAKpI,EAAKgI,UAC5BhI,EAAKqI,YAAYR,EACnB,IAAC3H,EAAA,oBAEa,SAAA2H,GACR7H,EAAK2H,SACS,WAAZE,EAAIS,KAAkBtI,EAAKqI,YAAYR,EAE/C,IAAC3H,EAAA,2BAEoB,WACnBoB,SAASuF,iBAAiB,WAAW,SAAAgB,GAAG,OACtC7H,EAAKuI,YAAYV,EAAI,IAEvB7H,EAAKmH,kBAAkBN,iBAAiB,QAAS7G,EAAKwI,YACtDxI,EAAKuH,cAAcV,iBAAiB,QAAS7G,EAAKqI,YACpD,IApEElE,KAAKgE,aAAejB,EACpB/C,KAAKwD,SAAU,EACfxD,KAAK6D,SAAW,CAAC,EACjB7D,KAAKsE,UAAW,CAClB,I,25BCNK,IAAMC,EAAS7I,GACpB,SAAA6I,IAAc,IAAA1I,EAAA,M,4FAAAC,CAAA,KAAAyI,GAAAxI,EAAA,wBAEI,SAAAyI,GAChB,IAAMC,EAAeD,EAAaE,YAAYA,YAC9CD,EAAapF,MAAMoE,QAAU,SAC7BgB,EAAa/G,YAAc8G,EAAaG,iBAC1C,IAAC5I,EAAA,0BAEmB,SAAAyI,GAClB,IAAMC,EAAeD,EAAaE,YAAYA,YAC9CD,EAAapF,MAAMoE,QAAU,OAC7BgB,EAAa/G,YAAc,EAC7B,IAAC3B,EAAA,iBAEU,SAAA6I,GACT,OAAOA,EAAQC,SAASC,KAC1B,IAAC/I,EAAA,0BAEmB,WAClBF,EAAKkJ,kBAAkBlJ,EAAKoG,WAE5BpG,EAAKoG,UAAU+C,oBACb,QACAnJ,EAAKoJ,kBAET,IAAClJ,EAAA,6BAEsB,WACrBF,EAAKkJ,kBAAkBlJ,EAAKqG,OAE5BrG,EAAKqG,MAAM8C,oBACT,QACAnJ,EAAKqJ,qBAET,IAACnJ,EAAA,yBAEkB,WAgBjB,OAfAF,EAAKsJ,aAAehI,SAASK,cAAc,SAC3C3B,EAAKoG,UACHpG,EAAKsJ,aAAa3H,cAAc,oBAClC3B,EAAKqG,MAAQrG,EAAKsJ,aAAa3H,cAAc,eAExC3B,EAAKuJ,SAASvJ,EAAKoG,YACtBpG,EAAKwJ,gBAAgBxJ,EAAKoG,WAGvBpG,EAAKuJ,SAASvJ,EAAKqG,QACtBrG,EAAKwJ,gBAAgBxJ,EAAKqG,OAG5BrG,EAAKmC,qBAEEnC,EAAKuJ,SAASvJ,EAAKoG,YAAcpG,EAAKuJ,SAASvJ,EAAKqG,MAC7D,IAACnG,EAAA,2BAEoB,WACnBF,EAAKoG,UAAUS,iBAAiB,QAAS7G,EAAKoJ,mBAE9CpJ,EAAKqG,MAAMQ,iBAAiB,QAAS7G,EAAKqJ,qBAC5C,GA3De,I,0GCWG,IAAIzJ,ECZA,CACtBoC,YAAa,aACbC,YAAa,aACbC,OAAQ,MAGoB,CAC5BG,MAAO,EACPU,cAAe,ODKL0G,iBAEZ,IAKMC,EAAmB,IAAItF,EAC3B,CAAEG,SANkB,SAAAC,GAEpB,OADsB,IAAIW,EAAQX,GACbmF,iBACvB,GARiC,aAe3BC,EAAgB5C,EAAa6C,MACjC,SAACC,EAAGC,GAAC,OACH,IAAI1J,KAAK2E,EAAY8E,EAAE7E,OAAS,IAAI5E,KAAK2E,EAAY+E,EAAE9E,MAAM,IAEjEyE,EAAiBM,eAAeJ,GAEhC,IAAMK,EAAiB,IAAIhD,EAAWD,GACtCiD,EAAeC,aAEf,IAAMC,EAAY,IAAIzB,EAWFpH,SAASK,cAAc,SAE/BkF,iBAAiB,UAXJ,SAAAgB,GAEvB,GADAA,EAAIC,iBACAqC,EAAUC,mBAAoB,CAChCH,EAAenF,WAAW+C,GAC1B,IAAMwC,G,EAAarD,E,knBAAc9B,MAAM8B,EAAasD,OAAS,GAC7DZ,EAAiBM,eAAeK,EAClC,C,KACF,G","sources":["webpack://block-with-comments/./src/components/Post/Post.helpers.js","webpack://block-with-comments/./src/components/Post/Post.js","webpack://block-with-comments/./src/components/Comments/Comments.js","webpack://block-with-comments/./src/components/Comment/Comment.helpers.js","webpack://block-with-comments/./src/components/Comment/Comment.js","webpack://block-with-comments/./src/components/Comments/Comments.constants.js","webpack://block-with-comments/./src/components/AddComment/AddComment.js","webpack://block-with-comments/./src/components/Validator/Validator.js","webpack://block-with-comments/./src/components/Page/Page.js","webpack://block-with-comments/./src/components/Post/Post.constants.js"],"sourcesContent":["export const changeWordEnding = (\n  num,\n  wordForOneItem,\n  wordForTwoItems,\n  wordForFiveItems,\n) => {\n  let remain10 = num % 10;\n  let remain100 = num % 100;\n\n  if (remain10 === 1) return wordForOneItem;\n\n  if (remain10 >= 2 && remain10 <= 4) return wordForTwoItems;\n\n  if (remain100 >= 5 && remain100 <= 20) return wordForFiveItems;\n\n  return wordForFiveItems;\n};\n","import { changeWordEnding } from './Post.helpers';\n\nexport class Post {\n  constructor(postInfo, ratingElements) {\n    this._postInfo = postInfo;\n    this._ratingElements = ratingElements;\n  }\n\n  _timePassedSince = stringDate => {\n    this._initialDate = new Date(stringDate);\n    this._dateNow = new Date();\n    this._dateDifference = Math.abs(\n      this._dateNow.getTime() - this._initialDate.getTime(),\n    );\n    this._diffDays = Math.ceil(\n      this._dateDifference / (1000 * 3600 * 24),\n    );\n    this._yearsPassed = Math.floor(this._diffDays / 360);\n    this._monthsPassed = Math.floor((this._diffDays % 360) / 30);\n    this._daysPassed = (this._diffDays % 360) % 30;\n\n    this._years = changeWordEnding(\n      this._yearsPassed,\n      'год',\n      'года',\n      'лет',\n    );\n    this._months = changeWordEnding(\n      this._monthsPassed,\n      'месяц',\n      'месяца',\n      'месяцев',\n    );\n    this._days = changeWordEnding(\n      this._daysPassed,\n      'день',\n      'дня',\n      'дней',\n    );\n\n    if (this._yearsPassed === 0 && this._monthsPassed === 0) {\n      return `${this._daysPassed} ${this._days} назад`;\n    }\n    if (this._yearsPassed === 0) {\n      return `${this._monthsPassed} ${this._months} ${this._daysPassed} ${this._days} назад`;\n    }\n    return `${this._yearsPassed} ${this._years} ${this._monthsPassed} ${this._months} ${this._daysPassed} ${this._days} назад`;\n  };\n\n  renderPostInfo = () => {\n    this._dateCreatedElement =\n      document.getElementById('date-created');\n    this._dateUpdatedElement =\n      document.getElementById('date-updated');\n    this._viewedElement = document.getElementById('viewed');\n    this._buttons = document.querySelector('.post__rating');\n    this._countElement = this._buttons.querySelector(\n      '.post__rating_counter',\n    );\n\n    this._dateCreatedElement.textContent = this._timePassedSince(\n      this._postInfo.dateCreated,\n    );\n    this._dateUpdatedElement.textContent = this._timePassedSince(\n      this._postInfo.dateUpdated,\n    );\n    this._viewedElement.textContent = `${this._postInfo.viewed} раз`;\n\n    this._setEventListeners();\n  };\n\n  _handleRatingIncrement = () => {\n    this._ratingElements.count++;\n    this._countElement.textContent = this._ratingElements.count;\n  };\n\n  _handleRatingDecrement = () => {\n    this._ratingElements.count--;\n    this._countElement.textContent = this._ratingElements.count;\n  };\n\n  _addPrompt = event => {\n    const displayWidth = document.body.clientWidth;\n\n    if (displayWidth < 1024) return;\n    const target = event.target;\n    const coords = target.getBoundingClientRect();\n    const promptHtml = target.dataset.prompt;\n    if (!promptHtml) return;\n\n    this._ratingElements.promptElement =\n      document.createElement('div');\n    this._ratingElements.promptElement.className = 'post__prompt';\n    this._ratingElements.promptElement.innerHTML = promptHtml;\n    this._buttons.append(this._ratingElements.promptElement);\n\n    let left = coords.left + target.offsetWidth + 20;\n    let top =\n      coords.top -\n      (this._ratingElements.promptElement.offsetHeight -\n        target.offsetHeight) /\n        2;\n    if (top < 0) top = coords.top;\n\n    this._ratingElements.promptElement.style.left = `${left}px`;\n    this._ratingElements.promptElement.style.top = `${top}px`;\n  };\n\n  _deletePrompt = () => {\n    if (this._ratingElements.promptElement) {\n      this._ratingElements.promptElement.remove();\n      this._ratingElements.promptElement = null;\n    }\n  };\n\n  _setEventListeners = () => {\n    this._incrementButtonElement = this._buttons.querySelector(\n      '.post__button_increment',\n    );\n    this._decrementButtonElement = this._buttons.querySelector(\n      '.post__button_decrement',\n    );\n\n    this._incrementButtonElement.onclick =\n      this._handleRatingIncrement;\n    this._decrementButtonElement.onclick =\n      this._handleRatingDecrement;\n\n    this._buttons.onmouseover = event => this._addPrompt(event);\n    this._buttons.onmouseout = this._deletePrompt;\n  };\n}\n","export class Comments {\n  constructor({ renderer }, sectionSelector) {\n    this._renderer = renderer;\n    this._sectionSelector = sectionSelector;\n    this._container = document.querySelector(this._sectionSelector);\n  }\n\n  addComment = comment => {\n    this._container.prepend(this._renderer(comment));\n  };\n\n  renderComments = comments => {\n    comments.forEach(comment => {\n      this.addComment(comment);\n    });\n  };\n}\n","export const doValidDate = date => {\n  return `${date.slice(3, 5)}.${date.slice(0, 2)}.${date.slice(6)}`;\n};\n","import { doValidDate } from './Comment.helpers';\n\nexport class Comment {\n  constructor({ userName, text, date, isLiked }) {\n    this._userName = userName;\n    this._text = text;\n    this._date = date;\n    this._isLiked = isLiked;\n  }\n\n  _getCommentTemplate = () => {\n    const commentElement = document\n      .querySelector('#comments')\n      .content.querySelector('.comment')\n      .cloneNode(true);\n    return commentElement;\n  };\n\n  generateComment = () => {\n    this._commentElement = this._getCommentTemplate();\n    this._userNameElement = this._commentElement.querySelector(\n      '.comment__user-name',\n    );\n    this._userTextElement = this._commentElement.querySelector(\n      '.comment__user-text',\n    );\n    this._commentDateElement = this._commentElement.querySelector(\n      '.comment__info-date',\n    );\n    const today = new Date();\n    const newDate = this._date;\n\n    const lessThanDay =\n      today - new Date(doValidDate(newDate)) < 24 * 60 * 60 * 1000;\n    const lessThanTwoDay =\n      today - new Date(doValidDate(newDate)) < 48 * 60 * 60 * 1000;\n    const toFuture = today - new Date(doValidDate(newDate)) < 0;\n\n    this._userNameElement.textContent = this._userName;\n    this._userTextElement.textContent = this._text;\n\n    if (toFuture) {\n      this._commentDateElement.textContent = `прыжок в будущее - в ${this._date.slice(\n        0,\n        11,\n      )} ${this._date.slice(11)}`;\n    } else if (lessThanDay) {\n      this._commentDateElement.textContent = `сегодня, в ${this._date.slice(\n        11,\n      )}`;\n    } else if (lessThanTwoDay) {\n      this._commentDateElement.textContent = `вчера, в ${this._date.slice(\n        11,\n      )}`;\n    } else if (!this._date.slice(11)) {\n      this._commentDateElement.textContent = this._date;\n    } else {\n      this._commentDateElement.textContent = `${this._date.slice(\n        0,\n        11,\n      )} в ${this._date.slice(11)}`;\n    }\n\n    this._setEventListeners();\n\n    return this._commentElement;\n  };\n\n  _handleLikeClick = likeElement => {\n    if (this._isLiked) {\n      likeElement.classList.remove('comment__button_liked');\n      likeElement.classList.add('comment__button_like');\n      this._isLiked = false;\n    } else {\n      likeElement.classList.remove('comment__button_like');\n      likeElement.classList.add('comment__button_liked');\n      this._isLiked = true;\n    }\n  };\n\n  _handleTrashClick = commentElement => {\n    commentElement.remove();\n  };\n\n  _setEventListeners = () => {\n    this._trashButtonElement =\n      this._commentElement.querySelector('#trash');\n    this._likeButtonElement =\n      this._commentElement.querySelector('#like');\n\n    this._likeButtonElement.addEventListener('click', () =>\n      this._handleLikeClick(this._likeButtonElement),\n    );\n    this._trashButtonElement.addEventListener('click', () =>\n      this._handleTrashClick(this._commentElement),\n    );\n  };\n}\n","export const commentsList = [\n  {\n    userName: 'Cuphead',\n    text: 'Ты пробовал выстрелить из пальца XD?',\n    date: '14.03.2023, 12:25',\n    isLiked: false,\n  },\n  {\n    userName: 'Dr.Tea',\n    text: 'Кинь баг-репорт производителю',\n    date: '13.03.2023, 13:25',\n    isLiked: false,\n  },\n  {\n    userName: 'Чайный Барон',\n    text: 'Решил проблему следующим образом: нужно не только достать пакетик из упаковки, еще необходимо вскрыть пакетик и вытащить саму завариваемую часть',\n    date: '10.03.2023, 13:25',\n    isLiked: false,\n  },\n];\n","export class AddComment {\n  constructor(commentList) {\n    this._commentList = commentList;\n    this._isOpen = false;\n    this._comment = {};\n    this._isAdded = false;\n  }\n\n  renderForm = () => {\n    this._addCommentButton = document.querySelector(\n      '.add-comment__button',\n    );\n    this._formWrapper = document.querySelector('.form__wrapper');\n    this._form = this._formWrapper.querySelector('.form');\n    this._submitButton =\n      this._formWrapper.querySelector('#submit-button');\n    this._cancelButton =\n      this._formWrapper.querySelector('#cancel-button');\n\n    this._formName = document.querySelector('.form__user-name');\n    this._formText = document.querySelector('.form__text');\n    this._formDate = document.querySelector('.form__date');\n\n    this._setEventListeners();\n  };\n\n  _openPopup = () => {\n    this._isOpen = true;\n    this._formWrapper.style.display = 'flex';\n  };\n\n  _closePopup = evt => {\n    evt.preventDefault();\n\n    this._formName.value = '';\n    this._formText.value = '';\n    this._formDate.value = '';\n\n    this._isOpen = false;\n    this._formWrapper.style.display = 'none';\n  };\n\n  addComment = evt => {\n    evt.preventDefault();\n\n    this._comment.userName = this._formName.value;\n    this._comment.text = this._formText.value;\n    this._comment.date = this._formDate.valueAsNumber\n      ? new Date(this._formDate.valueAsNumber - 10800000)\n          .toLocaleString()\n          .slice(0, 17)\n      : new Date().toLocaleString().slice(0, 17);\n    this._comment.isLiked = false;\n\n    this._commentList.push(this._comment);\n    this._closePopup(evt);\n  };\n\n  _closeByEsc = evt => {\n    if (this._isOpen) {\n      if (evt.key === 'Escape') this._closePopup(evt);\n    }\n  };\n\n  _setEventListeners = () => {\n    document.addEventListener('keydown', evt =>\n      this._closeByEsc(evt),\n    );\n    this._addCommentButton.addEventListener('click', this._openPopup);\n    this._cancelButton.addEventListener('click', this._closePopup);\n  };\n}\n","export class Validator {\n  constructor() {}\n\n  _showInputError = inputElement => {\n    const errorElement = inputElement.nextSibling.nextSibling;\n    errorElement.style.display = 'inline';\n    errorElement.textContent = inputElement.validationMessage;\n  };\n\n  _deleteInputError = inputElement => {\n    const errorElement = inputElement.nextSibling.nextSibling;\n    errorElement.style.display = 'none';\n    errorElement.textContent = '';\n  };\n\n  _isValid = element => {\n    return element.validity.valid;\n  };\n\n  _handleInputEvent = () => {\n    this._deleteInputError(this._userName);\n\n    this._userName.removeEventListener(\n      'input',\n      this._handleInputEvent,\n    );\n  };\n\n  _handleTextareaEvent = () => {\n    this._deleteInputError(this._text);\n\n    this._text.removeEventListener(\n      'input',\n      this._handleTextareaEvent,\n    );\n  };\n\n  enableValidation = () => {\n    this._formElement = document.querySelector('.form');\n    this._userName =\n      this._formElement.querySelector(`.form__user-name`);\n    this._text = this._formElement.querySelector(`.form__text`);\n\n    if (!this._isValid(this._userName)) {\n      this._showInputError(this._userName);\n    }\n\n    if (!this._isValid(this._text)) {\n      this._showInputError(this._text);\n    }\n\n    this._setEventListeners();\n\n    return this._isValid(this._userName) && this._isValid(this._text);\n  };\n\n  _setEventListeners = () => {\n    this._userName.addEventListener('input', this._handleInputEvent);\n\n    this._text.addEventListener('input', this._handleTextareaEvent);\n  };\n}\n","import { Post } from '../Post/Post';\nimport { postInfo, ratingElements } from '../Post/Post.constants';\n\nimport { Comments } from '../Comments/Comments';\nimport { Comment } from '../Comment/Comment';\nimport { commentsList } from '../Comments/Comments.constants';\nimport { AddComment } from '../AddComment/AddComment';\nimport { doValidDate } from '../Comment/Comment.helpers';\nimport { Validator } from '../Validator/Validator';\n\nconst commentContainerSelector = '.comments';\n\nconst postElement = new Post(postInfo, ratingElements);\npostElement.renderPostInfo();\n\nconst createComment = comment => {\n  const createComment = new Comment(comment);\n  return createComment.generateComment();\n};\n\nconst commentContainer = new Comments(\n  { renderer: createComment },\n  commentContainerSelector,\n);\n\nconst newSortedList = commentsList.sort(\n  (a, b) =>\n    new Date(doValidDate(a.date)) - new Date(doValidDate(b.date)),\n);\ncommentContainer.renderComments(newSortedList);\n\nconst addCommentForm = new AddComment(commentsList);\naddCommentForm.renderForm();\n\nconst validator = new Validator();\n\nconst handleAddComment = evt => {\n  evt.preventDefault();\n  if (validator.enableValidation()) {\n    addCommentForm.addComment(evt);\n    const newArr = [...commentsList].slice(commentsList.length - 1);\n    commentContainer.renderComments(newArr);\n  }\n};\n\nconst formElement = document.querySelector('.form');\n\nformElement.addEventListener('submit', handleAddComment);\n","export const postInfo = {\n  dateCreated: '12.12.2018',\n  dateUpdated: '12.25.2020',\n  viewed: 12000,\n};\n\nexport const ratingElements = {\n  count: 0,\n  promptElement: null,\n};\n"],"names":["changeWordEnding","num","wordForOneItem","wordForTwoItems","wordForFiveItems","remain10","Post","_createClass","postInfo","ratingElements","_this","_classCallCheck","_defineProperty","stringDate","_initialDate","Date","_dateNow","_dateDifference","Math","abs","getTime","_diffDays","ceil","_yearsPassed","floor","_monthsPassed","_daysPassed","_years","_months","_days","concat","_dateCreatedElement","document","getElementById","_dateUpdatedElement","_viewedElement","_buttons","querySelector","_countElement","textContent","_timePassedSince","_postInfo","dateCreated","dateUpdated","viewed","_setEventListeners","_ratingElements","count","event","body","clientWidth","target","coords","getBoundingClientRect","promptHtml","dataset","prompt","promptElement","createElement","className","innerHTML","append","left","offsetWidth","top","offsetHeight","style","remove","_incrementButtonElement","_decrementButtonElement","onclick","_handleRatingIncrement","_handleRatingDecrement","onmouseover","_addPrompt","onmouseout","_deletePrompt","this","Comments","_ref","sectionSelector","renderer","comment","_container","prepend","_renderer","comments","forEach","addComment","_sectionSelector","doValidDate","date","slice","Comment","userName","text","isLiked","content","cloneNode","_commentElement","_getCommentTemplate","_userNameElement","_userTextElement","_commentDateElement","today","newDate","_date","lessThanDay","lessThanTwoDay","toFuture","_userName","_text","likeElement","_isLiked","classList","add","commentElement","_trashButtonElement","_likeButtonElement","addEventListener","_handleLikeClick","_handleTrashClick","commentsList","AddComment","commentList","_addCommentButton","_formWrapper","_form","_submitButton","_cancelButton","_formName","_formText","_formDate","_isOpen","display","evt","preventDefault","value","_comment","valueAsNumber","toLocaleString","_commentList","push","_closePopup","key","_closeByEsc","_openPopup","_isAdded","Validator","inputElement","errorElement","nextSibling","validationMessage","element","validity","valid","_deleteInputError","removeEventListener","_handleInputEvent","_handleTextareaEvent","_formElement","_isValid","_showInputError","renderPostInfo","commentContainer","generateComment","newSortedList","sort","a","b","renderComments","addCommentForm","renderForm","validator","enableValidation","newArr","length"],"sourceRoot":""}